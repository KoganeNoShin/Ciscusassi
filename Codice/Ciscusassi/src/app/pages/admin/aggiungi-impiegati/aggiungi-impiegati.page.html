<ion-content
	[fullscreen]="true"
	class="ion-justify-content-center ion-align-items-center"
	color="bianco"
>
	<div class="page-wrapper">
		<ion-text class="ion-text-center ion-padding">
			<h2>Aggiungi impiegato</h2>
		</ion-text>

		<ion-card class="ion-padding ion-margin">
			<ion-card-content>
				<ion-grid fixed>
					<ion-row>
						<ion-col size="12" sizeLg="6">
							<!-- Box immagine cliccabile -->
							<div
								class="image-upload bg-color-bianconeve"
								(click)="fileInput.click()"
							>
								<input
									#fileInput
									type="file"
									accept="image/jpg, image/png, image/jpeg, image/webp"
									hidden
									(change)="onImageSelected($event)"
								/>

								<ion-img
									[src]="foto ? foto : 'assets/PlaceholderImage.jpg'"
									alt="Anteprima foto dell'impiegato"
								/>
							</div>
						</ion-col>
						<ion-col>
							<!-- Campi form -->
							<div class="form-fields">
								<ion-item class="campo-form" lines="none">
									<ion-input
										type="text"
										label="Nome"
										color="rosso"
										placeholder="Inserisci il nome..."
										[(ngModel)]="nome"
									/>
								</ion-item>
								<ion-item class="campo-form" lines="none">
									<ion-input
										type="text"
										label="Cognome"
										color="rosso"
										placeholder="Inserisci il cognome..."
										[(ngModel)]="cognome"
									/>
								</ion-item>

								<ion-item class="campo-form" lines="none">
									<ion-input
										type="date"
										label="Data nascita"
										color="rosso"
										placeholder="Inserisci la data di nascita..."
										[(ngModel)]="data_nascita"
									/>
								</ion-item>

								<ion-item class="campo-form" lines="none">
									<ion-input
										type="email"
										label="Email"
										color="rosso"
										placeholder="Inserisci l'email..."
										[(ngModel)]="email"
									/>
								</ion-item>

								<ion-item class="campo-form" lines="none">
									<ion-select
										placeholder="Ruolo"
										label="Ruolo"
										interface="popover"
										[(ngModel)]="ruolo"
										placeholder="Seleziona un ruolo..."
									>
										<ion-select-option
											value="Amministratore"
											>Amministratore</ion-select-option
										>
										<ion-select-option value="Chef"
											>Chef</ion-select-option
										>
										<ion-select-option value="Cameriere"
											>Cameriere</ion-select-option
										>
									</ion-select>
								</ion-item>

								<ion-item class="campo-form" lines="none">
									<ion-select
										placeholder="Seleziona la filiale"
										label="Filiale"
										interface="popover"
										[(ngModel)]="ref_filiale"
										placeholder="Seleziona una filiale..."
									>
										@for(filiale of filiali; track
										filiale.id_filiale){
										<ion-select-option
											[value]="filiale.id_filiale"
										>
											{{ filiale.comune }} - {{
											filiale.indirizzo }}
										</ion-select-option>
										}
									</ion-select>
								</ion-item>

								<ion-button
									size="default"
									fill="solid"
									shape="round"
									color="verdechiaro"
									expand="block"
									type="submit"
									class="ion-padding-vertical"
									(click)="aggiungiImpiegato()"
									[disabled]="!foto || !nome || !cognome || !data_nascita || !email || !ruolo || !ref_filiale"
								>
									ASSUMI IMPIEGATO
								</ion-button>
							</div>
						</ion-col>
					</ion-row>
				</ion-grid>
			</ion-card-content>
		</ion-card>
	</div>
</ion-content>
