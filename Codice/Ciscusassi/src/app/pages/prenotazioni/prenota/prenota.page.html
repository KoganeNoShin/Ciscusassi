<link
	rel="stylesheet"
	href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
	integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
	crossorigin=""
/>

<ion-content [fullscreen]="true">
	<app-hero
		title="PRENOTA"
		description="Prenota il tuo tavolo e regalati 
un esperienza culinaria senza tempo!"
		[backgroundURL]="'PrenotazioneBackground.jpeg'"
	></app-hero>

	<div class="map-div">
		<h1>PRENOTA UN TAVOLO</h1>
		<p>Trova il ristorante pi√π adatto a te!</p>
		@if(loading) {
		<ion-spinner name="bubbles"></ion-spinner>
		} @else {
		<ion-grid>
			<ion-row>
				<ion-col size="6" class="filiali-col">
					<ion-item class="barra-ricerca">
						<ion-input
							placeholder="Indirizzo Filiale"
							[(ngModel)]="searchFiliale"
							(ionInput)="filtroFiliali()"
						></ion-input>
					</ion-item>

					<div class="filiali-list">
						@for(f of filialiFiltrate; track f.id_filiale) {
						<ion-button class="filiale" (click)="salvaFiliale(f.id_filiale)">
							<ion-row>
								<ion-col size="3">
									<img
										[src]="f.immagine"
										alt="Immagine della Filiale"
										class="immagine-filiale"
									/>
								</ion-col>
								<ion-col size="9">
									<ion-label>
										<h2 style="font-weight: bold;">{{ f.comune }}</h2>
										<h2 style="text-transform: capitalize;">{{ f.indirizzo }}</h2>
										<p>12:00 - 15:00<br>19:00 - 22:00</p>
									</ion-label>
								</ion-col>
							
							</ion-row>
						</ion-button>
						}
					</div>
				</ion-col>
				<ion-col size="6">
					<div class="content">
					<ion-card class="map-card">
						<app-leaflet-map></app-leaflet-map>
					</ion-card>
					</div>
				</ion-col>
			</ion-row>
		</ion-grid>
		}
	</div>
</ion-content>
